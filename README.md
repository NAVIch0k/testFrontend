# Windi Messenger — прототип чата

## Запуск

```bash
npm install
npm run dev
```

## Тесты

```bash
npm run test
```

## Сборка

```bash
npm run build
npm run start
```

## Что внутри

- Две колонки: список чатов слева, окно сообщений справа.
- История сообщений с виртуализацией через `react-window`.
- Оптимистичная отправка сообщений.
- Mock-API: `getChats`, `getMessages`, имитация WebSocket через `subscribeToChat`.

## Архитектура и решения

- **State management: Zustand.** В таком небольшом приложении логичнее было бы обойтись `useSyncExternalStore` и не тянуть библиотеку ради одного стора, но в ТЗ прямо указан менеджер состояния, поэтому выбрал легковесную и быструю опцию. Zustand дает минимальный и понятный API без лишнего шаблонного кода, удобен для локального real‑time state и подписок (имитация WebSocket), с хорошими селекторами и без оверхеда Redux‑boilerplate.
- **Виртуализация:** `FixedSizeList` из `react-window` — простая и быстрая стратегия для тысяч сообщений.
- **Слои:**
  - `src/api` — mock‑сервис и имитация сокета.
  - `src/store` — бизнес‑состояние.
  - `src/components` — UI компоненты.
- **Тестирование:** Jest + React Testing Library, покрытие ключевых сценариев (рендер, отправка сообщения).

## Примечания

- Мок‑сервис генерирует 5000+ сообщений на чат и присылает новые сообщения каждые несколько секунд.
